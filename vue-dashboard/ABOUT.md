<center>

```
UUUUUUUU     UUUUUUUUKKKKKKKKK    KKKKKKKMMMMMMMM               MMMMMMMM               AAA                                                              
U::::::U     U::::::UK:::::::K    K:::::KM:::::::M             M:::::::M              A:::A                                                             
U::::::U     U::::::UK:::::::K    K:::::KM::::::::M           M::::::::M             A:::::A                                                            
UU:::::U     U:::::UUK:::::::K   K::::::KM:::::::::M         M:::::::::M            A:::::::A                                                           
 U:::::U     U:::::U KK::::::K  K:::::KKKM::::::::::M       M::::::::::M           A:::::::::A                                                          
 U:::::D     D:::::U   K:::::K K:::::K   M:::::::::::M     M:::::::::::M          A:::::A:::::A                                                         
 U:::::D     D:::::U   K::::::K:::::K    M:::::::M::::M   M::::M:::::::M         A:::::A A:::::A                                                        
 U:::::D     D:::::U   K:::::::::::K     M::::::M M::::M M::::M M::::::M        A:::::A   A:::::A                                                       
 U:::::D     D:::::U   K:::::::::::K     M::::::M  M::::M::::M  M::::::M       A:::::A     A:::::A                                                      
 U:::::D     D:::::U   K::::::K:::::K    M::::::M   M:::::::M   M::::::M      A:::::AAAAAAAAA:::::A                                                     
 U:::::D     D:::::U   K:::::K K:::::K   M::::::M    M:::::M    M::::::M     A:::::::::::::::::::::A                                                    
 U::::::U   U::::::U KK::::::K  K:::::KKKM::::::M     MMMMM     M::::::M    A:::::AAAAAAAAAAAAA:::::A                                                   
 U:::::::UUU:::::::U K:::::::K   K::::::KM::::::M               M::::::M   A:::::A             A:::::A                                                  
  UU:::::::::::::UU  K:::::::K    K:::::KM::::::M               M::::::M  A:::::A               A:::::A                                                 
    UU:::::::::UU    K:::::::K    K:::::KM::::::M               M::::::M A:::::A                 A:::::A                                                
      UUUUUUUUU      KKKKKKKKK    KKKKKKKMMMMMMMM               MMMMMMMMAAAAAAA                   AAAAAAA                                               

               AAA               IIIIIIIIIIRRRRRRRRRRRRRRRRR                                                                                            
              A:::A              I::::::::IR::::::::::::::::R                                                                                           
             A:::::A             I::::::::IR::::::RRRRRR:::::R                                                                                          
            A:::::::A            II::::::IIRR:::::R     R:::::R                                                                                         
           A:::::::::A             I::::I    R::::R     R:::::R                                                                                         
          A:::::A:::::A            I::::I    R::::R     R:::::R                                                                                         
         A:::::A A:::::A           I::::I    R::::RRRRRR:::::R                                                                                          
        A:::::A   A:::::A          I::::I    R:::::::::::::RR                                                                                           
       A:::::A     A:::::A         I::::I    R::::RRRRRR:::::R                                                                                          
      A:::::AAAAAAAAA:::::A        I::::I    R::::R     R:::::R                                                                                         
     A:::::::::::::::::::::A       I::::I    R::::R     R:::::R                                                                                         
    A:::::AAAAAAAAAAAAA:::::A      I::::I    R::::R     R:::::R                                                                                         
   A:::::A             A:::::A   II::::::IIRR:::::R     R:::::R                                                                                         
  A:::::A               A:::::A  I::::::::IR::::::R     R:::::R                                                                                         
 A:::::A                 A:::::A I::::::::IR::::::R     R:::::R                                                                                         
AAAAAAA                   AAAAAAAIIIIIIIIIIRRRRRRRR     RRRRRRR                                                                                         

     QQQQQQQQQ      UUUUUUUU     UUUUUUUU               AAA               LLLLLLLLLLL             IIIIIIIIIITTTTTTTTTTTTTTTTTTTTTTTYYYYYYY       YYYYYYY
   QQ:::::::::QQ    U::::::U     U::::::U              A:::A              L:::::::::L             I::::::::IT:::::::::::::::::::::TY:::::Y       Y:::::Y
 QQ:::::::::::::QQ  U::::::U     U::::::U             A:::::A             L:::::::::L             I::::::::IT:::::::::::::::::::::TY:::::Y       Y:::::Y
Q:::::::QQQ:::::::Q UU:::::U     U:::::UU            A:::::::A            LL:::::::LL             II::::::IIT:::::TT:::::::TT:::::TY::::::Y     Y::::::Y
Q::::::O   Q::::::Q  U:::::U     U:::::U            A:::::::::A             L:::::L                 I::::I  TTTTTT  T:::::T  TTTTTTYYY:::::Y   Y:::::YYY
Q:::::O     Q:::::Q  U:::::D     D:::::U           A:::::A:::::A            L:::::L                 I::::I          T:::::T           Y:::::Y Y:::::Y   
Q:::::O     Q:::::Q  U:::::D     D:::::U          A:::::A A:::::A           L:::::L                 I::::I          T:::::T            Y:::::Y:::::Y    
Q:::::O     Q:::::Q  U:::::D     D:::::U         A:::::A   A:::::A          L:::::L                 I::::I          T:::::T             Y:::::::::Y     
Q:::::O     Q:::::Q  U:::::D     D:::::U        A:::::A     A:::::A         L:::::L                 I::::I          T:::::T              Y:::::::Y      
Q:::::O     Q:::::Q  U:::::D     D:::::U       A:::::AAAAAAAAA:::::A        L:::::L                 I::::I          T:::::T               Y:::::Y       
Q:::::O  QQQQ:::::Q  U:::::D     D:::::U      A:::::::::::::::::::::A       L:::::L                 I::::I          T:::::T               Y:::::Y       
Q::::::O Q::::::::Q  U::::::U   U::::::U     A:::::AAAAAAAAAAAAA:::::A      L:::::L         LLLLLL  I::::I          T:::::T               Y:::::Y       
Q:::::::QQ::::::::Q  U:::::::UUU:::::::U    A:::::A             A:::::A   LL:::::::LLLLLLLLL:::::LII::::::II      TT:::::::TT             Y:::::Y       
 QQ::::::::::::::Q    UU:::::::::::::UU    A:::::A               A:::::A  L::::::::::::::::::::::LI::::::::I      T:::::::::T          YYYY:::::YYYY    
   QQ:::::::::::Q       UU:::::::::UU     A:::::A                 A:::::A L::::::::::::::::::::::LI::::::::I      T:::::::::T          Y:::::::::::Y    
     QQQQQQQQ::::QQ       UUUUUUUUU      AAAAAAA                   AAAAAAALLLLLLLLLLLLLLLLLLLLLLLLIIIIIIIIII      TTTTTTTTTTT          YYYYYYYYYYYYY    
            Q:::::Q                                                                                                                                    
MMMMMMMM      QQQQQQ   MMMMMMMM     OOOOOOOOO     NNNNNNNN        NNNNNNNNIIIIIIIIIITTTTTTTTTTTTTTTTTTTTTTT     OOOOOOOOO     RRRRRRRRRRRRRRRRR         
M:::::::M             M:::::::M   OO:::::::::OO   N:::::::N       N::::::NI::::::::IT:::::::::::::::::::::T   OO:::::::::OO   R::::::::::::::::R        
M::::::::M           M::::::::M OO:::::::::::::OO N::::::::N      N::::::NI::::::::IT:::::::::::::::::::::T OO:::::::::::::OO R::::::RRRRRR:::::R       
M:::::::::M         M:::::::::MO:::::::OOO:::::::ON:::::::::N     N::::::NII::::::IIT:::::TT:::::::TT:::::TO:::::::OOO:::::::ORR:::::R     R:::::R      
M::::::::::M       M::::::::::MO::::::O   O::::::ON::::::::::N    N::::::N  I::::I  TTTTTT  T:::::T  TTTTTTO::::::O   O::::::O  R::::R     R:::::R      
M:::::::::::M     M:::::::::::MO:::::O     O:::::ON:::::::::::N   N::::::N  I::::I          T:::::T        O:::::O     O:::::O  R::::R     R:::::R      
M:::::::M::::M   M::::M:::::::MO:::::O     O:::::ON:::::::N::::N  N::::::N  I::::I          T:::::T        O:::::O     O:::::O  R::::RRRRRR:::::R       
M::::::M M::::M M::::M M::::::MO:::::O     O:::::ON::::::N N::::N N::::::N  I::::I          T:::::T        O:::::O     O:::::O  R:::::::::::::RR        
M::::::M  M::::M::::M  M::::::MO:::::O     O:::::ON::::::N  N::::N:::::::N  I::::I          T:::::T        O:::::O     O:::::O  R::::RRRRRR:::::R       
M::::::M   M:::::::M   M::::::MO:::::O     O:::::ON::::::N   N:::::::::::N  I::::I          T:::::T        O:::::O     O:::::O  R::::R     R:::::R      
M::::::M    M:::::M    M::::::MO:::::O     O:::::ON::::::N    N::::::::::N  I::::I          T:::::T        O:::::O     O:::::O  R::::R     R:::::R      
M::::::M     MMMMM     M::::::MO::::::O   O::::::ON::::::N     N:::::::::N  I::::I          T:::::T        O::::::O   O::::::O  R::::R     R:::::R      
M::::::M               M::::::MO:::::::OOO:::::::ON::::::N      N::::::::NII::::::II      TT:::::::TT      O:::::::OOO:::::::ORR:::::R     R:::::R      
M::::::M               M::::::M OO:::::::::::::OO N::::::N       N:::::::NI::::::::I      T:::::::::T       OO:::::::::::::OO R::::::R     R:::::R      
M::::::M               M::::::M   OO:::::::::OO   N::::::N        N::::::NI::::::::I      T:::::::::T         OO:::::::::OO   R::::::R     R:::::R      
MMMMMMMM               MMMMMMMM     OOOOOOOOO     NNNNNNNN         NNNNNNNIIIIIIIIII      TTTTTTTTTTT           OOOOOOOOO     RRRRRRRR     RRRRRRR      
```

# Моніторинг якості повітря та мікроклімату
##

</center>

Проект UKMA AIR QUALITY MONITOR (**UAQM**)  дає можливість переглядати показники мікрокліматичних параметрів та показники якості повітря в реальному часі.

Проект реалізований на базі *Кафедри Екології Національного Університету "Києво-Могилянська Академія"*  

## Інтерфейс та робота з ним

### Панель моніторингу

![Панель моніторингу](https://imgur.com/PLD6aGn.png)

Панель моніторингу являє собою візуалізацію актуальних даних з сенсорного блоку. Основна мета панелі - демонстративна.

### Мікшер даних

![Мікшер](https://imgur.com/kocFLPz.png)

Це експериментальний інструмент, який дає можливість переглядати усі дані, чи їх частину за різні часові проміжки. Головною метою є попередня оцінка та візуальний пошук кореляцій між показниками різних сенсорів

**Мікшер містить 2 блоки налаштувань**:
- масштабування часу
- масштабування даних

***Масштабування часу*** використовується для точного перегляду певного проміжку часу в межах історії збору даних. **Діапазон** дає змогу налаштувати обсяг даних, які одночасно відображаються на графіку, **зсув** дозволяє обрати необхідну частину даних впродовж усієї історії моніторингу.

Режим ***масштабування даних*** використовується для зведення даних на одній шкалі за віссю **Y**. Це стає у нагоді, коли необхідно порівняти ряди даних у яких величини виміру відрізняються значною мірою. Наприклад, порівняння температури та атмосферного тиску. Інструмент масштабування прирівнює масштаби усіх даних та дозволяє збільшувати чи зменшувати масштаб одних даних відносно інших.

### Робота з інтерактивними графіками

На графіках, які містять декілька рядів даних, є можливість увімкнення та вимкнення окремих шарів даних. Для цього необхідно клікнути на символ легенди відповідного ряду даних.
Приклад легенди на інтерактивних графіках: ![Легенда](legend.png)

### Вивантаження сирих даних

Для роботи з необробленими даними в табличному вигляді передбачена функція вивантаження.
Для завантаження даних у форматі .CSV необхідно натиснути на кнопку підготовки даних, після чого натиснути на кнопку завантаження, коли дані будуть готові.

***!ВАЖЛИВО!***
Дані збережені з використанням крапки в числах з плаваючою крапкою (приклад: 0.111). Якщо ваш табличний редактор має встановлену локаль українських чи російських форматів даних, по замовчуванню він використовує кому, в якості розділювача (приклад: 0,111)). У такому разі редактор сприйме усі числові величини з плаваючою крапкою за текстові значення. Аби цього уникнути - під час завантаження даних вкажіть в якості локалізації Англійську мову та США чи Велику Британію, як країну.

Варто зауважити, що мітки часу, які використовуються в даних, не враховують зміни літнього та зимового часу, через що в літній період дані зміщені на одну годину.

### Структура завантажуваних даних
|Поле|Опис|
|--|--|
|timestamp|Дата та час|
|temperature|Показники температури|
|humidity|Показники вологості|
|pressure|Показники тиску|
|vibration|Показники вібрації (експериментальний показник)|
|PM_1_0|Показники концентрації часточок PM 1.0|
|PM_2_5|Показники концентрації часточок PM 2.5|
|PM_10_0|Показники концентрації часточок PM 10.0|
|PPM_CO2|Показники концентрації вуглекислого газу|



## Технічні характеристики

Час оновлення даних: 5 хв.
Актуальна адреса розташування: м. Київ, пр. Правди 108 (на час карантинних заходів)

### Основні показники та їх характеристики

| Показник | Одиниця  | Сенсор  | Точність | Роздільна здатність | Діапазон виміру |
|--|--|--|--|--|--|
|Температура повітря|°C| BME280 | ±0.5 °C | 0.01 °C | -40->+85  °C |
|Відносна вологість|%RH |BME280 | ±3 % | 0.008 %RH | 0->100 %RH |
|Атмосферний тиск|hPa|BME280 | ±1.0 hPa | ±0.12 hPa | 300->1100 hPa |
|Вуглекислий газ|ppm|MH-Z19B | ±3 ppm | 50 ppm | 0->2000 ppm |
|Часточки PM 1.0|μg/m³|PMS5003 | ±10μg/m³ | 1 μg/m³ | 0->500+ μg/m³ |
|Часточки PM 2.5|μg/m³|PMS5003 | ±10μg/m³ | 1 μg/m³ | 0->500+ μg/m³ |
|Часточки PM 10.0|μg/m³|PMS5003 | ±10μg/m³ | 1 μg/m³ | 0->500+ μg/m³ |

***Документація:***
- [BME280](https://www.infinite-electronic.ru/datasheet/97-BME280.pdf)
- [Z19B](https://www.winsen-sensor.com/d/files/infrared-gas-sensor/mh-z19b-co2-ver1_0.pdf)
- [PMS5003](https://www.aqmd.gov/docs/default-source/aq-spec/resources-page/plantower-pms5003-manual_v2-3.pdf)

### Особливості реалізації:

Платформа збору та обробки даних: WIFI-мікроконтроллер ESP32, прошивка реалізована в Arduino IDE (варіант не оптимальний, але основний функціонал виконує).
Дані зберігаютья в ***Firebase realtime database***.
Інтерфейс реалізований на основі ***Vue.js***.  

Про знайдені помилки прошу повідомляти за електронною поштою stpmsuit@gmail.com

Код проекту в повному обсязі [доступний на GitHub](https://github.com/rdrill/urbanmonitor)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
