(function(t){function a(a){for(var s,o,n=a[0],l=a[1],c=a[2],u=0,f=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(a);while(f.length)f.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,n=1;n<e.length;n++){var l=e[n];0!==r[l]&&(s=!1)}s&&(i.splice(a--,1),t=o(o.s=e[0]))}return t}var s={},r={app:0},i=[];function o(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=s,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)o.d(e,s,function(a){return t[a]}.bind(null,s));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var c=0;c<n.length;c++)a(n[c]);var d=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var s=e("8a23"),r=e.n(s);r.a},"098f":function(t,a,e){},"18ad":function(t,a,e){},4678:function(t,a,e){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var a=i(t);return e(a)}function i(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=i,t.exports=r,r.id="4678"},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",{attrs:{id:"inspire"}},[e("v-toolbar",{attrs:{dense:"",dark:"","max-height":"48","hide-on-scroll":""}},[e("v-toolbar-title",{staticClass:"apptitle"},[e("font",{attrs:{color:"#4bceff"}},[t._v("U")]),t._v("KMA "),e("font",{attrs:{color:"#4bceff"}},[t._v("M")]),t._v("ONITOR")],1),e("v-tabs",{staticClass:"tabscontainer",attrs:{color:"#4bceff",centered:""}},[e("v-tab",{attrs:{to:"/"}},[t._v("Панель моніторингу")]),e("v-tab",{attrs:{to:"/mixer"}},[t._v("Мікшер даних")])],1),t.dataisready?e("div",[e("download-csv",{staticClass:"btn btn-default",attrs:{data:t.exporter,name:(new Date).getFullYear()+"_"+(new Date).getMonth()+"_"+(new Date).getDate()+"_"+(new Date).getTime()+".csv"}},[e("v-btn",{ref:"downloader",staticClass:"ma-2 white--text",attrs:{color:"green"}},[t._v(" Завантажити дані "),e("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-download")])],1)],1)],1):e("div",[e("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"#3497de"},on:{click:t.prepareData}},[t._v(" Підготувати дані "),t.datainprocess?e("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-progress-clock")]):e("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud")])],1)],1)],1),e("v-content",[e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("router-view")],1)],1),e("v-footer",{attrs:{padless:"",dense:""}},[e("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" — "),e("strong",[t._v("Andrii Yaremych")]),e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e("v-btn",t._g({staticClass:"mx-4",attrs:{dark:"",icon:"",to:"https://github.com/rdrill/urbanmonitor"}},s),[e("v-icon",{attrs:{size:"24px"}},[t._v("mdi-github")])],1)]}}])},[e("span",[t._v("Переглянути проект на GitHub")])])],1)],1)],1)},i=[],o=(e("fb6a"),e("a434"),e("b680"),e("b64b"),e("d3b7"),e("ac1f"),e("3ca3"),e("1276"),e("1fe2"),e("ddb0"),e("2909")),n=e("53ca"),l=e("8aa50"),c=e.n(l),d={apiKey:"AIzaSyDtOdBN8233THYIdOpZSmOkbF_W0fBIbaY",authDomain:"urbanmonitor-d7a3b.firebaseapp.com",databaseURL:"https://urbanmonitor-d7a3b.firebaseio.com",projectId:"urbanmonitor-d7a3b",storageBucket:"urbanmonitor-d7a3b.appspot.com",messagingSenderId:"176085566593",appId:"1:176085566593:web:771c8082ccc7ab6be97980"},u=c.a.initializeApp(d),f=u.database().ref("/dataframe"),m=f,p=function(){var t=new WeakSet;return function(a,e){if("object"===Object(n["a"])(e)&&null!==e){if(t.has(e))return;t.add(e)}return e}},b={methods:{objectRefresher:function(t){var a={};for(var e in t)for(var s in a[e]={},t[e])if("datasets"==s)for(var r in a[e][s]=[],t[e][s])for(var i in a[e][s].push({}),t[e][s][r])"_meta"!=i&&(a[e][s][r][i]=t[e][s][r][i]);else a[e][s]=t[e][s];return a},objectModify:function(t,a,e){var s=this.objectRefresher(t),r=e.groupopts.axis,i=a.val()[Object.keys(a.val())[0]];for(var o in e.groupdata){"time"==r&&s[o].labels.push(i.timestamp.split("T")[1].slice(0,-4)),"date"==r&&s[o].labels.push(i.timestamp.split("T")[0]),"datetime"==r&&s[o].labels.push(i.timestamp.split("T")[0].slice(5)+" "+i.timestamp.split("T")[1].slice(0,-4));for(var n=s[o].datasets.length,l=0;l<n;l++){var c=s[o].datasets[l].sname;s[o].datasets[l].data.push(i[c].toFixed(3))}}return s},baseUpdate:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";switch(e){case"auto":m.orderByKey().limitToLast(1).on("value",(function(e){try{a.chartData=a.objectModify(a.chartData,e,t)}catch(s){console.log("first autoupdate init")}}));break;default:if(!isNaN(e)){var s=1e3*e*60;setInterval((function(){try{m.orderByKey().limitToLast(1).once("value",(function(e){a.chartData=a.objectModify(a.chartData,e,t)}))}catch(e){console.log("first timer update init")}}),s)}break}},chartScale:function(t,a){var e={};for(var s in e=localStorage.chart_Time_Buffer?JSON.parse(localStorage.chart_Time_Buffer):this.chartData,t)for(var r in"zero"==a&&(t[s]=1),"init"==a&&(t[s]=0),e)for(var i in e[r])for(var n in e[r][i])if(e[r][i][n].sname==s){var l=Math.max.apply(Math,Object(o["a"])(e[r][i][n].data)),c=Math.min.apply(Math,Object(o["a"])(e[r][i][n].data)),d=l-c;console.log(l,c,d);for(var u=0;u<e[r][i][n].data.length;u++)t[s]>=1&&(e[r][i][n].data[u]=(e[r][i][n].data[u]-c+1)*t[s]),t[s]<0&&(e[r][i][n].data[u]=(e[r][i][n].data[u]-c+1)/Math.abs(t[s]))}this.chartData=e,localStorage.chart_Scale_Buffer=JSON.stringify(e,p())},timeScale:function(t,a){var e={};for(var s in e=localStorage.chartBuffer?JSON.parse(localStorage.chartBuffer):this.chartData,e){var r=e[s].labels.length,i=parseInt(10/r*a,10);for(var o in console.log("dbg",i,r,a),i<2&&(i=2),this.maxdata[s]=r,e[s].datasets){for(var n=0,l=[],c=0;c<r;c++)c%i!==0?n+=parseFloat(e[s].datasets[o].data[c],10):(l.push(n/i),n=0);e[s].datasets[o].data=l,e[s].datasets[o].data=e[s].datasets[o].data.slice(t,t+a)}for(var d=0;d<r;d++)d%i!==0&&e[s].labels.splice(d,i);e[s].labels=e[s].labels.slice(t,t+a)}this.chartData=e,localStorage.chart_Time_Buffer=JSON.stringify(e,p())},getJSON:function(){var t=this;m.orderByKey().once("value",(function(a){var e=a.val(),s=[];for(var r in e)s.push({timestamp:e[r].timestamp,temperature:e[r].temperature,humidity:e[r].humidity,pressure:e[r].pressure,vibration:e[r].vibration,PM_1_0:e[r].PM_1_0,PM_2_5:e[r].PM_2_5,PM_10_0:e[r].PM_10_0,PPM_CO2:e[r].PPM_CO2});t.exporter=s}))},getChartData:function(t,a){var e=this,s=t.groupopts.limit,r=t.groupopts.sample,i=t.groupopts.axis;m.orderByKey().limitToLast(s).once("value",(function(s){var o=s.val(),n={};for(var l in t.groupdata){var c=[],d=0;for(var u in o){d+=1;var f=o[u];if(d%r==0)for(var m in"time"==i&&c.push(f.timestamp.split("T")[1].slice(0,-4)),"date"==i&&c.push(f.timestamp.split("T")[0]),"datetime"==i&&c.push(f.timestamp.split("T")[0].slice(5)+" "+f.timestamp.split("T")[1].slice(0,-4)),t.groupdata[l].datasets){var b=t.groupdata[l].datasets[m].sensor;"PPM_CO2"==b&&parseInt(f[b],10)<250&&(f[b]=400),t.groupdata[l].datasets[m].dlist.push(f[b].toFixed(3))}}var h=[];for(var v in t.groupdata[l].datasets){var g=t.groupdata[l].datasets[v],j={sname:g.sensor,label:g.label,borderColor:g.color,borderWidth:1,backgroundColor:g.color.split(")")[0].slice(0,-1)+"0.1)",data:g.dlist};h.push(j)}var _={labels:c,datasets:h};n[l]=_,e.maxdata&&(e.maxdata[l]=_.labels.length)}e.loaded||(e.loaded=!0),a?(console.log("Object has been buffered",n),localStorage.chartBuffer=JSON.stringify(n,p()),e.buffered=!0):(console.log("Object has been rendered directly"),e.chartData=n)}))}}},h={name:"App",mixins:[b],components:{},props:{source:String},data:function(){return{datainprocess:!1,dataisready:!1,exporter:[]}},methods:{prepareData:function(){this.getJSON(),console.log("json!"),this.datainprocess=!0}},watch:{exporter:function(){console.log("export is done!"),this.dataisready=!0}},created:function(){this.$vuetify.theme.dark=!0}},v=h,g=(e("034f"),e("2877")),j=e("6544"),_=e.n(j),y=e("7496"),x=e("8336"),w=e("62ad"),C=e("a523"),k=e("a75b"),P=e("553a"),M=e("132d"),S=e("71a3"),O=e("fe57"),D=e("71d9"),T=e("2a7f"),z=e("3a2f"),V=Object(g["a"])(v,r,i,!1,null,null,null),I=V.exports;_()(V,{VApp:y["a"],VBtn:x["a"],VCol:w["a"],VContainer:C["a"],VContent:k["a"],VFooter:P["a"],VIcon:M["a"],VTab:S["a"],VTabs:O["a"],VToolbar:D["a"],VToolbarTitle:T["a"],VTooltip:z["a"]});var L=e("ce5b"),B=e.n(L),F=(e("bf40"),e("0ff26")),N=e("f309");s["default"].use(N["a"]);var A=new N["a"]({}),R=e("8c4f"),J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main",attrs:{justify:"center",align:"center"}},[t.loaded?e("v-row",{attrs:{justify:"center",align:"center"}},[e("v-col",{attrs:{cols:"3",md:"12",lg:"3"}},[e("span",[t._v("Масштабування часу")]),e("v-subheader",{staticClass:"pl-2 mt-n6 mb-n7 overline"},[t._v("Зсув")]),e("v-slider",{attrs:{color:"#4ccb92","track-color":"#dfdfdf","thumb-color":"#ffffff",max:t.maxdata.whole/2-40,min:"2"},on:{change:t.signalChangeTime},model:{value:t.timeposition,callback:function(a){t.timeposition=a},expression:"timeposition"}}),e("v-subheader",{staticClass:"pl-2 mt-n6 mb-n7 overline"},[t._v("Діапазон")]),e("v-slider",{attrs:{color:"#4ccb92","track-color":"#dfdfdf","thumb-color":"#ffffff",max:t.maxdata.whole/2,min:"2"},on:{change:t.signalChangeTime},model:{value:t.diapasone,callback:function(a){t.diapasone=a},expression:"diapasone"}}),e("span",[t._v("Масштабування даних")]),e("v-switch",{model:{value:t.switcher,callback:function(a){t.switcher=a},expression:"switcher"}}),t._l(t.chartSets.groupdata.whole.datasets,(function(a){return e("div",{key:a.sensor},[e("v-subheader",{staticClass:"pl-2 mt-n6 mb-n7 overline"},[t._v(t._s(a.label))]),t.switcher?e("v-slider",{attrs:{color:"#a45d43","track-color":"#43a48a","thumb-color":"#ffffff",id:a.sensor,max:"100",min:"-100"},on:{change:t.signalChange},model:{value:t.scaler[a.sensor],callback:function(e){t.$set(t.scaler,a.sensor,e)},expression:"scaler[item.sensor]"}}):e("v-slider",{attrs:{disabled:"",color:"#a45d43","track-color":"#43a48a","thumb-color":"#ffffff",id:a.sensor,max:"100",min:"-100"},on:{change:t.signalChange},model:{value:t.scaler[a.sensor],callback:function(e){t.$set(t.scaler,a.sensor,e)},expression:"scaler[item.sensor]"}})],1)}))],2),e("v-col",{attrs:{cols:"9",md:"12",lg:"9"}},[e("v-card",[e("v-card-text",{staticClass:"mixerchart"},[e("line-chart",{attrs:{"chart-data":t.chartData.whole,options:t.withLegend}})],1)],1)],1)],1):e("circle8")],1)},U=[],K=e("1fca"),$=K["b"].reactiveProp,E={extends:K["a"],mixins:[$],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},Y=e("d58b"),G={mixins:[b],components:{LineChart:E,Circle8:Y["a"]},data:function(){return{loaded:!1,maxdata:{},scaler:{},diapasone:1,timeposition:1,switcher:!1,withoutLegend:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},elements:{point:{radius:0}}},withLegend:{responsive:!0,animation:!1,maintainAspectRatio:!1,legend:{display:!0},elements:{point:{radius:0}}},chartData:{},textData:{},firstload:!0,buffered:!1,chartSets:{groupopts:{limit:1e4,sample:1,axis:"datetime"},groupdata:{whole:{name:"whole",datasets:[{sensor:"PM_1_0",label:"PM 1.0",color:"rgba(255, 0, 115, 1)",dlist:[]},{sensor:"PM_2_5",label:"PM 2.5",color:"rgba(13, 0, 255, 1)",dlist:[]},{sensor:"PM_10_0",label:"PM 10.0",color:"rgba(217, 168, 0, 1)",dlist:[]},{sensor:"temperature",label:"Температура",color:"rgba(255, 54, 0, 1)",dlist:[]},{sensor:"humidity",label:"Вологість",color:"rgba(0, 186, 255, 1)",dlist:[]},{sensor:"pressure",label:"Атм. Тиск",color:"rgba(130, 65, 217, 1)",dlist:[]},{sensor:"PPM_CO2",label:"Діоксид вуглецю",color:"rgba(87, 255, 119, 1)",dlist:[]}]}}}}},mounted:function(){this.initCharts(),localStorage.chart_Time_Buffer=localStorage.chartBuffer},methods:{initCharts:function(){this.getChartData(this.chartSets,!0)},signalChange:function(){this.chartScale(this.scaler,"scale")},signalChangeTime:function(){this.timeScale(this.timeposition,this.diapasone),this.switcher&&this.chartScale(this.scaler,"scale")}},watch:{switcher:function(){this.switcher?this.chartScale(this.scaler,"zero"):(localStorage.chart_Scale_Buffer=localStorage.chartBuffer,this.timeScale(this.timeposition,this.diapasone))},buffered:function(){this.buffered&&(console.log("buffering done!"),this.diapasone=this.maxdata.whole/2-40,this.timeposition=1,this.timeScale(this.timeposition,this.diapasone))}}},W=G,q=(e("729d"),e("b0af")),H=e("99d9"),Z=e("0fd9"),Q=e("ba0d"),X=e("e0c7"),tt=e("b73d"),at=Object(g["a"])(W,J,U,!1,null,null,null),et=at.exports;_()(at,{VCard:q["a"],VCardText:H["a"],VCol:w["a"],VRow:Z["a"],VSlider:Q["a"],VSubheader:X["a"],VSwitch:tt["a"]});var st=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main",attrs:{justify:"center",align:"center"}},[t.loaded?e("div",[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12",md:"12",lg:"4"}},[e("v-card",[e("v-card-text",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{align:"center",justify:"center",cols:"4",lg:"5"}},[t.infoisready?e("Informer",{attrs:{data:t.textData.temperature,icon:"mdi-thermometer",title:"ТЕМПЕРАТУРА"}}):t._e()],1),e("v-col",{staticClass:"dashboardchart",attrs:{cols:"8",lg:"7"}},[e("line-chart",{attrs:{"chart-data":t.chartData.temperature,options:t.withoutLegend}})],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"12",md:"12",lg:"4"}},[e("v-card",[e("v-card-text",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{align:"center",justify:"center",cols:"4",lg:"5"}},[t.infoisready?e("Informer",{attrs:{data:t.textData.humidity,icon:"mdi-water-percent",title:"ВІДН. ВОЛОГІСТЬ"}}):t._e()],1),e("v-col",{staticClass:"dashboardchart",attrs:{cols:"8",lg:"7"}},[e("line-chart",{attrs:{"chart-data":t.chartData.humidity,options:t.withoutLegend}})],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"12",md:"12",lg:"4"}},[e("v-card",[e("v-card-text",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{align:"center",justify:"center",cols:"4",lg:"5"}},[t.infoisready?e("Informer",{attrs:{data:t.textData.pressure,icon:"mdi-weather-windy",title:"АТМ. ТИСК"}}):t._e()],1),e("v-col",{staticClass:"dashboardchart",attrs:{cols:"8",lg:"7"}},[e("line-chart",{attrs:{"chart-data":t.chartData.pressure,options:t.withoutLegend}})],1)],1)],1)],1)],1)],1),e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12",md:"12",lg:"6"}},[e("v-card",[e("v-card-text",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{align:"center",justify:"center",cols:"4",lg:"4"}},[t.infoisready?e("Informer",{attrs:{multiple:!0,data:[t.textData.pm_1_0,t.textData.pm_2_5,t.textData.pm_10_0],icon:"mdi-scatter-plot-outline",title:"ЗАПИЛЕНІСТЬ"}}):t._e()],1),e("v-col",{staticClass:"dashboardchart",attrs:{cols:"8",lg:"8"}},[e("line-chart",{attrs:{"chart-data":t.chartData.pollution,options:t.withLegend}})],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"12",md:"12",lg:"6"}},[e("v-card",[e("v-card-text",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{align:"center",justify:"center",cols:"4",lg:"4"}},[t.infoisready?e("Informer",{attrs:{multiple:!0,data:[t.textData.dioxide],icon:"mdi-air-filter",title:"ДІОКСИД ВУГЛЕЦЮ"}}):t._e()],1),e("v-col",{staticClass:"dashboardchart",attrs:{cols:"8",lg:"8"}},[e("line-chart",{attrs:{"chart-data":t.chartData.dioxide,options:t.withoutLegend}})],1)],1)],1)],1)],1)],1)],1):e("circle8")],1)},rt=[],it=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-list-item-content",[e("div",{staticClass:"overline mb-4"},[e("v-icon",{staticClass:"display-2"},[t._v(t._s(t.icon))]),e("br"),e("br"),t._v(" "+t._s(t.title))],1),t.multiple?e("div",{attrs:{align:"center"}},t._l(t.data,(function(a){return e("div",{key:a.data,staticClass:"itemcontainer"},[e("span",{staticClass:"itemname"},[t._v(" "+t._s(a.name)+": ")]),e("span",{staticClass:"itemvalue"},[t._v(t._s(a.value)+" ")]),e("span",{staticClass:"itemunit"},[t._v(" "+t._s(a.unit)+" ")])])})),0):e("div",[e("v-list-item-title",{class:t.data.customclasses},[t._v(t._s(t.data.value)+" "),e("p",{staticClass:"title inline"},[t._v(t._s(t.data.unit))])]),e("v-list-item-subtitle",[t._v(" динаміка: "),e("br"),e("b",[t._v(t._s(t.data.delta))]),t._v(" "+t._s(t.data.unit)+" / год. "),t.data.delta<0?e("v-icon",{staticClass:"subtitle-1"},[t._v(" mdi-arrow-down")]):t._e(),t.data.delta>0?e("v-icon",{staticClass:"subtitle-1"},[t._v(" mdi-arrow-up")]):t._e(),0==t.data.delta?e("v-icon",{staticClass:"subtitle-1"},[t._v(" mdi-arrow-up-down")]):t._e()],1)],1)])},ot=[],nt={name:"Informer",props:["data","icon","title","multiple"],data:function(){return{textData:{}}},mounted:function(){},methods:{}},lt=nt,ct=(e("e008"),e("5d23")),dt=Object(g["a"])(lt,it,ot,!1,null,null,null),ut=dt.exports;_()(dt,{VIcon:M["a"],VListItemContent:ct["a"],VListItemSubtitle:ct["b"],VListItemTitle:ct["c"]});var ft=f,mt={methods:{textUpdate:function(){var t=this;ft.orderByKey().limitToLast(11).on("value",(function(a){var e=a.val()[Object.keys(a.val())[0]],s=a.val()[Object.keys(a.val())[10]],r={lastudate:s.timestamp,temperature:{value:s.temperature.toFixed(2),delta:(s.temperature-e.temperature).toFixed(2),name:"Температура",unit:"°C",customclasses:["display-1","mb-1"]},humidity:{value:s.humidity.toFixed(2),delta:(s.humidity-e.humidity).toFixed(2),name:"Вологість",unit:"%",customclasses:["display-1","mb-1"]},pressure:{value:s.pressure.toFixed(2),delta:(s.pressure-e.pressure).toFixed(2),name:"Тиск",unit:"hPa",customclasses:["headline","mb-1"]},pm_1_0:{value:s.PM_1_0.toFixed(2),delta:(s.PM_1_0-e.PM_1_0).toFixed(2),name:"pm1.0  ",unit:"μg/m³",customclasses:["display-1","mb-1"]},pm_2_5:{value:s.PM_2_5.toFixed(2),delta:(s.PM_2_5-e.PM_2_5).toFixed(2),name:"pm2.5  ",unit:"μg/m³",customclasses:["display-1","mb-1"]},pm_10_0:{value:s.PM_10_0.toFixed(2),delta:(s.PM_10_0-e.PM_10_0).toFixed(2),name:"pm10.0",unit:"μg/m³",customclasses:["display-1","mb-1"]},dioxide:{value:s.PPM_CO2,delta:s.PPM_CO2-e.PPM_CO2,name:"CO₂",unit:"ppm",customclasses:["display-1","mb-1"]}};t.textData=r,t.infoisready=!0}))}},watch:{textData:function(){console.log("text updated!")}}},pt={mixins:[b,mt],components:{LineChart:E,Informer:ut,Circle8:Y["a"]},data:function(){return{loaded:!1,infoisready:!1,withoutLegend:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},elements:{point:{radius:0}}},withLegend:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0},elements:{point:{radius:0}}},chartData:{},textData:{},chartSets:{groupopts:{limit:50,sample:1,axis:"time"},groupdata:{pollution:{name:"pollution",datasets:[{sensor:"PM_1_0",label:"PM 1.0",color:"rgba(255, 0, 115, 1)",dlist:[]},{sensor:"PM_2_5",label:"PM 2.5",color:"rgba(13, 0, 255, 1)",dlist:[]},{sensor:"PM_10_0",label:"PM 10.0",color:"rgba(217, 168, 0, 1)",dlist:[]}]},temperature:{name:"temperature",datasets:[{sensor:"temperature",label:"Температура",color:"rgba(255, 54, 0, 1)",dlist:[]}]},humidity:{name:"humidity",datasets:[{sensor:"humidity",label:"Вологість",color:"rgba(0, 186, 255, 1)",dlist:[]}]},pressure:{name:"pressure",datasets:[{sensor:"pressure",label:"Атм. Тиск",color:"rgba(130, 65, 217, 1)",dlist:[]}]},dioxide:{name:"PPM_CO2",datasets:[{sensor:"PPM_CO2",label:"Діоксид вуглецю",color:"rgba(87, 255, 119, 1)",dlist:[]}]}}}}},mounted:function(){this.initCharts(),this.textUpdate()},methods:{initCharts:function(){this.getChartData(this.chartSets,!1),this.baseUpdate(this.chartSets,"auto")}}},bt=pt,ht=(e("ecbc"),Object(g["a"])(bt,st,rt,!1,null,null,null)),vt=ht.exports;_()(ht,{VCard:q["a"],VCardText:H["a"],VCol:w["a"],VRow:Z["a"]});var gt=[{path:"/",component:vt},{path:"/mixer",component:et}],jt=gt,_t=e("2347"),yt=e.n(_t);s["default"].component("downloadCsv",yt.a),s["default"].use(B.a),s["default"].use(R["a"]),s["default"].use(F["a"]);var xt=new R["a"]({routes:jt});new s["default"]({el:"#app",vuetify:A,router:xt,render:function(t){return t(I)}})},"66b0":function(t,a,e){},"729d":function(t,a,e){"use strict";var s=e("098f"),r=e.n(s);r.a},"8a23":function(t,a,e){},e008:function(t,a,e){"use strict";var s=e("18ad"),r=e.n(s);r.a},ecbc:function(t,a,e){"use strict";var s=e("66b0"),r=e.n(s);r.a}});
//# sourceMappingURL=app.9084e0d7.js.map